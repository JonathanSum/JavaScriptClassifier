(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),i=n.n(r),c=n(10),o=n.n(c),s=(n(86),n(137)),u=n(151),l=n(152),d=n(14),j=n.n(d),p=n(28),f=n(16),b=["Asahi K\u014dbe is a main character in Happy Sugar Life and Shio's big brother.","She is Sat\u014d's Aunt and guardian of Satou.","He is the teacher of Sato's school.","He is Sato's co-worker.","She is the main Character of Anime Happy Sugar life living with Shio.","She is the main Character of Anime Happy Sugar life living with Sato..","She is the good friend of Sato.","She is the manager at the place where Sato works.","She is Sato's co-worker.","She is the mother of Shio."],h=["Asahi_Kobe","Sato's_Aunt","Kitaumekawa","Mitsuboshi","Sato_Matsuzaka","Shio_Kobe","Shoko_Hida","Manager","Sumire","Yuna"],g=n(159),m=n(138),O=n(32),x=n(140),v=n(141),y=n(142),w=n(143),S=Object(s.a)((function(e){return{card:{width:500,maxHeight:15e3,overflow:"auto"},item:{paddingTop:10},avatar:{width:e.spacing(25),height:e.spacing(25)},inline:{display:"inline"},person_detail:{paddingLeft:10}}}));function k(e){var t=e.items,n=S();return Object(a.jsx)(m.a,{className:n.card,children:Object(a.jsx)(x.a,{dense:!0,children:t.map((function(e){var t=e.avatar,r=e.name,c=e.person_detail,o=e.percentage,s="".concat(r,"-").concat(o);return Object(a.jsxs)(v.a,{alignItems:"flex-start",className:n.item,children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(g.a,{className:n.avatar,variant:"square",alt:"image of ".concat(r),src:t})}),Object(a.jsx)(w.a,{id:s,primary:o+"%",className:n.person_detail,secondary:Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(O.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary",children:r})," \u2014 "+c]})})]},s)}))})})}var N=n(25);function _(e){var t=e.output;if(!t)return null;console.log(t);var n=function(e,t){var n=Array.from(e).map((function(e,t){return[e,t]})).sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})).reverse().slice(0,t),a=e.map((function(e){return Math.exp(e)})).reduce((function(e,t){return e+t}));return n.map((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return{person:h[r],act:n,person_detail:b[r],prob:Math.exp(n)/a}}))}(t,10).map((function(e){var t=e.person,n=e.person_detail,a=e.prob;return{name:Object(N.b)(t),person_detail:n,percentage:(100*a).toFixed(2),avatar:Object(N.c)(t)}}));return Object(a.jsx)(k,{items:n})}var C=n(150),I=n(144),A=n(154),L=n(156),F=Object(s.a)((function(e){return{box:{width:480,padding:0,margin:0},content:{boxSizing:"border-box"},info:{backgroundColor:e.palette.primary.main},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function H(e){var t=e.message,n=F();return Object(a.jsx)(A.a,{className:n.box,children:Object(a.jsx)(L.a,{severity:"success",className:n.content,children:Object(a.jsx)("span",{className:n.message,children:t})})})}function T(e){var t=e.message,n=F();return Object(a.jsx)(A.a,{className:n.box,children:Object(a.jsx)(L.a,{severity:"info",className:n.content,children:Object(a.jsxs)("span",{className:n.message,children:[Object(a.jsx)(I.a,{size:20,className:n.iconVariant}),t]})})})}var M=n(51),R=n(65),z=n.n(R),D=n(66),P=n.n(D),E=Object(s.a)({icon:{width:"50%",height:"50%",color:"grey"}}),B=function(e){var t=e.fileLoaded,n=e.isDragActive,r=E();return t?null:n?Object(a.jsx)(z.a,{className:r.icon}):Object(a.jsx)(P.a,{className:r.icon})},K=n(69),W=n(155),G=n(148),J=n(146),q=n(147),V=n(145),U=n(149),Y=Object(s.a)({card:{width:480,height:480,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:10},canvas:{width:480,height:480,zIndex:0,position:"absolute"},input:{zIndex:9999,position:"absolute"}});function Q(e){var t=e.setFile,n=e.canvasRef,c=e.fileLoaded,o=i.a.useState(!1),s=Object(f.a)(o,2),u=s[0],l=s[1],d=i.a.useState(!1),j=Object(f.a)(d,2),p=j[0],b=j[1],h=Y(),g=Object(r.useCallback)((function(e){if(e.length>1)return l(!0),console.log("It can only handle one file at a time");if(0!==e.length){var n=e[0];if(!n.type.startsWith("image"))return b(!0),console.log("file must be an image");t(n)}}),[t]),O=function(){l(!1),b(!1)},x=Object(K.a)({onDrop:g}),v=x.getRootProps,y=x.getInputProps,w=x.isDragActive;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(m.a,Object(M.a)(Object(M.a)({},v()),{},{className:h.card,children:[Object(a.jsx)("canvas",{className:h.canvas,ref:n,width:224,height:224}),Object(a.jsx)("input",Object(M.a)({alt:"Image Dropzone",type:"image",className:h.input},y())),Object(a.jsx)(B,{fileLoaded:c,isDragActive:w})]})),Object(a.jsxs)(W.a,{open:u,"aria-labelledby":"alert-dialog-title",onClose:O,"aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(V.a,{id:"alert-dialog-title",children:"More than one file uploaded"}),Object(a.jsx)(J.a,{children:Object(a.jsx)(q.a,{id:"alert-dialog-description_n",children:"It can only upload one file."})})]}),Object(a.jsxs)(W.a,{open:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(V.a,{id:"alert-dialog-title_t",children:"File Type Error"}),Object(a.jsx)(J.a,{children:Object(a.jsx)(q.a,{id:"alert-dialog-description",children:"It is only image type file allowed."})}),Object(a.jsx)(G.a,{children:Object(a.jsx)(U.a,{onClick:O,color:"primary",autoFocus:!0,children:"Ok"})})]})]})}var X=n(68),Z=n.n(X),$=Object(N.e)(),ee=Object(s.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)}}}));function te(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=o[0],u=o[1],l=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s&&!n){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,Object(N.d)($);case 5:i(!0),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=Object(r.useState)(null),b=Object(f.a)(d,2),h=b[0],g=b[1],m=Object(r.useRef)(null),O=Object(r.useState)(null),x=Object(f.a)(O,2),v=x[0],y=x[1];Object(r.useEffect)((function(){h&&Object(N.a)(h,m,y)}),[h]);var w=Object(r.useState)(null),S=Object(f.a)(w,2),k=S[0],I=S[1];Object(r.useEffect)((function(){n&&v&&Object(N.f)($,v,I)}),[n,v]);var A=k&&k.values().next().value.data,L=ee();return Object(a.jsx)("div",{className:L.root,children:Object(a.jsxs)(C.a,{container:!0,spacing:3,children:[Object(a.jsxs)(C.a,{item:!0,children:[Object(a.jsx)(Q,{setFile:g,canvasRef:m,fileLoaded:!!h}),!n&&!s&&Object(a.jsx)(U.a,{variant:"contained",onClick:l,color:"primary",className:L.button,endIcon:Object(a.jsx)(Z.a,{children:"load model"}),children:"load model"}),!n&&s&&Object(a.jsx)(T,{message:"Loading model..."}),n&&v&&!k&&Object(a.jsx)(T,{message:"Running model..."}),n&&!h&&Object(a.jsx)(H,{message:"Drop an image in above..."}),!!h&&!v&&Object(a.jsx)(T,{message:"Loading and Inputing image..."})]}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(_,{output:A})})]})})}var ne=n(153),ae=Object(s.a)((function(e){return{root:{flexGrow:1},content:{marginTop:20},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},table:{width:"100%"},footer:{padding:e.spacing(2),marginTop:"auto"},button:{margin:e.spacing(1)}}}));var re=function(){var e=ae();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(u.a,{position:"static",children:Object(a.jsx)(l.a,{children:Object(a.jsx)(O.a,{variant:"h6",className:e.title,children:"Happy Sugar Life Character Classifier"})})}),Object(a.jsx)(ne.a,{className:e.content,children:Object(a.jsx)(te,{})})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(re,{})}),document.getElementById("root")),ie()},25:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return _}));var a=n(14),r=n.n(a),i=n(28),c=n(63),o=n.n(c),s=n(50),u=n(58),l=n.n(u),d=n(38),j=n.n(d),p=n(64),f=function(e){return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},b=function(e){var t=e.split("_").map((function(e){return e.charAt(0).toLowerCase()+e.slice(1).toLowerCase()})).join("_");return"".concat("/JavaScriptClassifier","/images/").concat(t,".jpg")},h=function(){return new s.InferenceSession({backendHint:"webgl"})};function g(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(r.a.mark((function e(t){var n,a,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=(n=[1,3,224,224]).reduce((function(e,t){return e*t})),i=new s.Tensor(new Float32Array(a),"float32",n),c=0;c<a;c++)i.data[c]=2*Math.random()-1;return e.next=6,t.run([i]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadModel(p.a);case 2:return e.next=4,g(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(i.a)(r.a.mark((function e(t,n,a){var i,c,o,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.width,c=n.height,o=w(n),u=new s.Tensor(o,"float32",[1,3,i,c]),e.next=5,t.run([u]);case 5:l=e.sent,a(l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){setTimeout((function(){return function(e,t,n){return v.apply(this,arguments)}(e,t,n)}),10)}var w=function(e){var t=e.data,n=e.width,a=e.height,r=l()(new Float32Array(t),[n,a,4]),i=l()(new Float32Array(n*a*3),[1,3,n,a]);return j.a.assign(i.pick(0,0,null,null),r.pick(null,null,0)),j.a.assign(i.pick(0,1,null,null),r.pick(null,null,1)),j.a.assign(i.pick(0,2,null,null),r.pick(null,null,2)),j.a.divseq(i,255),i.data},S=function(t){return new Promise((function(n,a){e.setTimeout((function(){return n()}),t)}))},k={maxWidth:224,maxHeight:224,cover:!0,crop:!0,canvas:!0,crossOrigin:"Anonymous",orientation:!0},N=function(e){return new Promise((function(t,n){o()(e,(function(e){return t(e)}),k)}))},_=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N(t);case 4:if("error"!==(i=e.sent).type){e.next=7;break}throw new Error("could not load image");case 7:return(c=n.current.getContext("2d")).drawImage(i,0,0),e.next=11,S(1);case 11:o=c.getImageData(0,0,n.current.width,n.current.height),a(o);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}).call(this,n(92))},64:function(e,t,n){"use strict";t.a=n.p+"static/media/Happy_Sugar_Life9v9_out10.b71c9c34.onnx"},86:function(e,t,n){}},[[104,1,2]]]);